{"type":"data","nodes":[{"type":"data","data":[{"lang":1,"langInfo":2,"langs":4,"tree":11,"page":72},"zh-cn",{"name":3,"value":1},"中文",[5,9],{"name":6,"value":7,"url":8},"English","en-us","/en-us/install/edge-chart",{"name":3,"value":1,"url":10},"/zh-cn/install/edge-chart",[12,18,31,52,67],{"title":13,"url":14,"index":15,"lang":1,"level":16,"children":17},"说明","/intro",2,1,[],{"title":19,"url":20,"index":21,"lang":1,"level":16,"children":22},"安装","/install",3,[23,27],{"title":24,"url":25,"index":16,"lang":1,"level":15,"children":26},"安装 synterix-central","/install/chart",[],{"title":28,"url":29,"index":21,"lang":1,"level":15,"children":30},"安装 synterix-edge","/install/edge-chart",[],{"title":32,"url":33,"index":34,"lang":1,"level":16,"children":35},"组件","/component",4,[36,40,44,48],{"title":37,"url":38,"index":16,"lang":1,"level":15,"children":39},"synterix-central-gateway","/component/synterix-central-gateway",[],{"title":41,"url":42,"index":15,"lang":1,"level":15,"children":43},"synterix-central-admin","/component/synterix-central-admin",[],{"title":45,"url":46,"index":21,"lang":1,"level":15,"children":47},"synterix-edge-gateway","/component/synterix-edge-gateway",[],{"title":49,"url":50,"index":34,"lang":1,"level":15,"children":51},"synterix-kube-proxy","/component/synterix-kube-proxy",[],{"title":53,"url":54,"index":55,"lang":1,"level":16,"children":56},"工具","/toolkit",5,[57,62],{"title":58,"url":59,"index":60,"lang":1,"level":15,"children":61},"Synterix CLI","/toolkit/cli",18,[],{"title":63,"url":64,"index":65,"lang":1,"level":15,"children":66},"Synterix 桌面应用","/toolkit/ui",20,[],{"title":68,"url":69,"index":70,"lang":1,"level":16,"children":71},"支持","/support",6,[],{"title":28,"url":29,"index":21,"lang":1,"level":15,"children":73,"html":74,"prev":75,"next":78},[],"\u003Cp>用于向 Kubernetes 集群部署 Synterix Edge 组件的 Helm Chart，支持可配置的命名空间权限管理。\u003C/p>\n\u003Ch2>核心特性\u003C/h2>\n\u003Cul>\n\u003Cli>灵活的命名空间管理（支持集群全局或指定命名空间）\u003C/li>\n\u003Cli>自动化的 RBAC 配置\u003C/li>\n\u003Cli>可定制的部署参数\u003C/li>\n\u003Cli>同时支持单命名空间和多命名空间部署模式\u003C/li>\n\u003C/ul>\n\u003Ch2>环境要求\u003C/h2>\n\u003Cul>\n\u003Cli>Kubernetes 1.19+ 版本\u003C/li>\n\u003Cli>Helm 3.2.0+ 版本\u003C/li>\n\u003Cli>执行安装需具备集群管理员权限\u003C/li>\n\u003C/ul>\n\u003Ch2>安装指南\u003C/h2>\n\u003Ch3>添加 Helm 仓库\u003C/h3>\n\u003Cpre>\u003Ccode class=\"hljs language-bash\">helm repo add synterix-edge http://chart.synterix.cloud\nhelm repo update\n\u003C/code>\u003C/pre>\u003Ch3>集群全局模式安装\u003C/h3>\n\u003Cp>（授予管理员权限）：\u003C/p>\n\u003Cpre>\u003Ccode class=\"hljs language-bash\">helm install synterix-edge synterix-edge/synterix-edge --\u003Cspan class=\"hljs-built_in\">set\u003C/span> namespaces[0]=\u003Cspan class=\"hljs-string\">&quot;*&quot;\u003C/span>\n\u003C/code>\u003C/pre>\u003Ch3>指定命名空间安装\u003C/h3>\n\u003Cp>（仅授权特定命名空间）：\u003C/p>\n\u003Cpre>\u003Ccode class=\"hljs language-bash\">helm install synterix-edge synterix-edge/synterix-edge --\u003Cspan class=\"hljs-built_in\">set\u003C/span> namespaces={\u003Cspan class=\"hljs-built_in\">test\u003C/span>,test-2}\n\u003C/code>\u003C/pre>\u003Ch3>自定义配置安装\u003C/h3>\n\u003Cp>创建自定义 values 文件（\u003Ccode>custom-values.yaml\u003C/code>）后执行：\u003C/p>\n\u003Cpre>\u003Ccode class=\"hljs language-bash\">helm install synterix-edge synterix-edge/synterix-edge -f custom-values.yaml\n\u003C/code>\u003C/pre>\u003Ch2>配置参数说明\u003C/h2>\n\u003Ctable>\n\u003Cthead>\n\u003Ctr>\n\u003Cth>参数项\u003C/th>\n\u003Cth>功能描述\u003C/th>\n\u003Cth>默认值\u003C/th>\n\u003C/tr>\n\u003C/thead>\n\u003Ctbody>\u003Ctr>\n\u003Ctd>\u003Ccode>namespaces\u003C/code>\u003C/td>\n\u003Ctd>管理的命名空间列表（&quot;*&quot;表示集群全局）\u003C/td>\n\u003Ctd>\u003Ccode>[&quot;test&quot;,&quot;tes-2&quot;]\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>deployment.replicaCount\u003C/code>\u003C/td>\n\u003Ctd>副本数量\u003C/td>\n\u003Ctd>\u003Ccode>1\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>deployment.image.gateway\u003C/code>\u003C/td>\n\u003Ctd>网关镜像配置\u003C/td>\n\u003Ctd>\u003Ccode>repository: sebertes/synterix-central-gateway\u003C/code>, \u003Ccode>tag: latest\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>deployment.image.proxy\u003C/code>\u003C/td>\n\u003Ctd>代理镜像配置\u003C/td>\n\u003Ctd>\u003Ccode>repository: sebertes/synterix-kube-proxy\u003C/code>, \u003Ccode>tag: latest\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>deployment.resources.proxy\u003C/code>\u003C/td>\n\u003Ctd>代理容器资源限制\u003C/td>\n\u003Ctd>--\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>gateway.url\u003C/code>\u003C/td>\n\u003Ctd>网关连接地址\u003C/td>\n\u003Ctd>\u003Ccode>&quot;wss://xxx.com/synterix/gateway&quot;\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>gateway.token\u003C/code>\u003C/td>\n\u003Ctd>边缘节点认证令牌\u003C/td>\n\u003Ctd>\u003Ccode>&quot;oWSGibL0fLWMlyzTc3ybdi3t1rbQjj&quot;\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>gateway.edgeId\u003C/code>\u003C/td>\n\u003Ctd>边缘节点标识符\u003C/td>\n\u003Ctd>\u003Ccode>&quot;1780350654385859692002162&quot;\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>service.type\u003C/code>\u003C/td>\n\u003Ctd>Kubernetes 服务类型\u003C/td>\n\u003Ctd>\u003Ccode>ClusterIP\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>service.ports.gateway\u003C/code>\u003C/td>\n\u003Ctd>网关服务端口配置\u003C/td>\n\u003Ctd>\u003Ccode>port: 7088\u003C/code>, \u003Ccode>targetPort: 7088\u003C/code>\u003C/td>\n\u003C/tr>\n\u003C/tbody>\u003C/table>\n\u003Ch2>系统架构\u003C/h2>\n\u003Cp>本 Chart 将部署以下组件：\u003C/p>\n\u003Col>\n\u003Cli>\u003Cstrong>命名空间\u003C/strong>（集群全局模式下自动创建）\u003C/li>\n\u003Cli>\u003Cstrong>RBAC 组件\u003C/strong>：\u003Cul>\n\u003Cli>包含管理员权限的 ClusterRole\u003C/li>\n\u003Cli>服务账户(ServiceAccount)\u003C/li>\n\u003Cli>角色绑定（指定命名空间模式）或集群角色绑定（全局模式）\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>应用组件\u003C/strong>：\u003Cul>\n\u003Cli>包含网关和代理容器的 Deployment\u003C/li>\n\u003Cli>网关访问服务(Service)\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ol>\n\u003Ch2>升级流程\u003C/h2>\n\u003Cpre>\u003Ccode class=\"hljs language-bash\">helm upgrade synterix-edge synterix-edge/synterix-edge -f custom-values.yaml\n\u003C/code>\u003C/pre>\u003Ch2>卸载说明\u003C/h2>\n\u003Cp>完整移除 Chart：\u003C/p>\n\u003Cpre>\u003Ccode class=\"hljs language-bash\">helm uninstall synterix-edge\n\u003C/code>\u003C/pre>\u003Cp>注意：此操作不会删除已创建的命名空间。\u003C/p>\n\u003Ch2>安全注意事项\u003C/h2>\n\u003Col>\n\u003Cli>使用 \u003Ccode>namespaces: [&quot;*&quot;]\u003C/code> 时，服务账户将获得集群管理员权限\u003C/li>\n\u003Cli>请妥善保管边缘节点令牌和ID等敏感信息\u003C/li>\n\u003Cli>生产环境建议使用 Kubernetes Secrets 管理敏感配置\u003C/li>\n\u003C/ol>\n",{"title":24,"url":25,"index":16,"lang":1,"level":15,"children":76,"html":77},[],"\u003Ch2>Helm Chart\u003C/h2>\n\u003Cul>\n\u003Cli>部署组件包括：\u003Cul>\n\u003Cli>synterix-central-gateway\u003C/li>\n\u003Cli>synterix-kube-proxy\u003C/li>\n\u003Cli>synterix-central-admin（带持久化存储的 StatefulSet）\u003C/li>\n\u003Cli>必要的 RBAC、服务账户和密钥\u003C/li>\n\u003Cli>可配置的 Ingress\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Ch2>先决条件\u003C/h2>\n\u003Cul>\n\u003Cli>Kubernetes 1.19+\u003C/li>\n\u003Cli>Helm 3.2.0+\u003C/li>\n\u003Cli>Ingress 控制器（如需使用 Ingress）\u003C/li>\n\u003Cli>底层基础设施支持 PV 供应（用于 StatefulSet 持久化）\u003C/li>\n\u003C/ul>\n\u003Ch2>安装指南\u003C/h2>\n\u003Ch3>添加 Helm 仓库\u003C/h3>\n\u003Cpre>\u003Ccode class=\"hljs language-bash\">helm repo add synterix https://chart.synterix.cloud\nhelm repo update\n\u003C/code>\u003C/pre>\u003Ch3>安装 Chart\u003C/h3>\n\u003Cpre>\u003Ccode class=\"hljs language-bash\">helm install synterix synterix/synterix \\\n  --namespace synterix \\\n  --create-namespace \\\n  --version 0.1.0\n\u003C/code>\u003C/pre>\u003Ch3>自定义安装\u003C/h3>\n\u003Cpre>\u003Ccode class=\"hljs language-bash\">helm install synterix synterix/synterix \\\n  --namespace synterix \\\n  --\u003Cspan class=\"hljs-built_in\">set\u003C/span> ingress.host=\u003Cspan class=\"hljs-string\">&quot;custom.example.com&quot;\u003C/span> \\\n  --\u003Cspan class=\"hljs-built_in\">set\u003C/span> centralAdmin.storage.size=\u003Cspan class=\"hljs-string\">&quot;5Gi&quot;\u003C/span> \\\n  --\u003Cspan class=\"hljs-built_in\">set\u003C/span> global.secret.data=\u003Cspan class=\"hljs-string\">&quot;\u003Cspan class=\"hljs-subst\">$(echo -n &#x27;newsecret&#x27; | base64)\u003C/span>&quot;\u003C/span>\n\u003C/code>\u003C/pre>\u003Ch2>配置参数\u003C/h2>\n\u003Ctable>\n\u003Cthead>\n\u003Ctr>\n\u003Cth>参数\u003C/th>\n\u003Cth>描述\u003C/th>\n\u003Cth>默认值\u003C/th>\n\u003C/tr>\n\u003C/thead>\n\u003Ctbody>\u003Ctr>\n\u003Ctd>\u003Ccode>global.namespace\u003C/code>\u003C/td>\n\u003Ctd>所有资源的命名空间\u003C/td>\n\u003Ctd>\u003Ccode>synterix\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>global.secret.name\u003C/code>\u003C/td>\n\u003Ctd>密钥名称\u003C/td>\n\u003Ctd>\u003Ccode>synterix-secret\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>global.secret.data\u003C/code>\u003C/td>\n\u003Ctd>Base64 编码的密钥值\u003C/td>\n\u003Ctd>\u003Ccode>c2VjcmV0\u003C/code> (&quot;secret&quot;)\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>serviceAccount.name\u003C/code>\u003C/td>\n\u003Ctd>服务账户名称\u003C/td>\n\u003Ctd>\u003Ccode>synterix-central-account\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>rbac.bindingName\u003C/code>\u003C/td>\n\u003Ctd>集群角色绑定名称\u003C/td>\n\u003Ctd>\u003Ccode>synterix-central-account-binding\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>centralGateway.image\u003C/code>\u003C/td>\n\u003Ctd>中央网关镜像\u003C/td>\n\u003Ctd>\u003Ccode>sebertes/synterix-central-gateway\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>centralGateway.tag\u003C/code>\u003C/td>\n\u003Ctd>镜像标签\u003C/td>\n\u003Ctd>\u003Ccode>master\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>centralGateway.port\u003C/code>\u003C/td>\n\u003Ctd>服务端口\u003C/td>\n\u003Ctd>\u003Ccode>7089\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>kubeProxy.image\u003C/code>\u003C/td>\n\u003Ctd>Kube 代理镜像\u003C/td>\n\u003Ctd>\u003Ccode>sebertes/synterix-kube-proxy\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>kubeProxy.tag\u003C/code>\u003C/td>\n\u003Ctd>镜像标签\u003C/td>\n\u003Ctd>\u003Ccode>master\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>kubeProxy.port\u003C/code>\u003C/td>\n\u003Ctd>服务端口\u003C/td>\n\u003Ctd>\u003Ccode>7014\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>centralAdmin.image\u003C/code>\u003C/td>\n\u003Ctd>中央管理镜像\u003C/td>\n\u003Ctd>\u003Ccode>sebertes/synterix-central-admin\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>centralAdmin.tag\u003C/code>\u003C/td>\n\u003Ctd>镜像标签\u003C/td>\n\u003Ctd>\u003Ccode>master\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>centralAdmin.port\u003C/code>\u003C/td>\n\u003Ctd>服务端口\u003C/td>\n\u003Ctd>\u003Ccode>7088\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>centralAdmin.dbPath\u003C/code>\u003C/td>\n\u003Ctd>数据库路径\u003C/td>\n\u003Ctd>\u003Ccode>&quot;/synterix/synterix.db&quot;\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>centralAdmin.storage.size\u003C/code>\u003C/td>\n\u003Ctd>PVC 存储大小\u003C/td>\n\u003Ctd>\u003Ccode>1Gi\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>ingress.enabled\u003C/code>\u003C/td>\n\u003Ctd>启用 Ingress\u003C/td>\n\u003Ctd>\u003Ccode>true\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>ingress.className\u003C/code>\u003C/td>\n\u003Ctd>Ingress 类别\u003C/td>\n\u003Ctd>\u003Ccode>nginx\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>ingress.host\u003C/code>\u003C/td>\n\u003Ctd>Ingress 主机\u003C/td>\n\u003Ctd>\u003Ccode>xxxx.com\u003C/code>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ccode>ingress.path\u003C/code>\u003C/td>\n\u003Ctd>Ingress 路径\u003C/td>\n\u003Ctd>\u003Ccode>/synterix/(.*)\u003C/code>\u003C/td>\n\u003C/tr>\n\u003C/tbody>\u003C/table>\n\u003Ch2>资源分配\u003C/h2>\n\u003Cp>默认资源配置如下：\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cp>\u003Cstrong>中央网关\u003C/strong>：\u003C/p>\n\u003Cul>\n\u003Cli>请求资源：200m CPU，256Mi 内存\u003C/li>\n\u003Cli>限制资源：500m CPU，512Mi 内存\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cp>\u003Cstrong>Kube 代理\u003C/strong>：\u003C/p>\n\u003Cul>\n\u003Cli>请求资源：200m CPU，256Mi 内存\u003C/li>\n\u003Cli>限制资源：500m CPU，512Mi 内存\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cp>\u003Cstrong>中央管理\u003C/strong>：\u003C/p>\n\u003Cul>\n\u003Cli>请求资源：200m CPU，256Mi 内存\u003C/li>\n\u003Cli>限制资源：500m CPU，512Mi 内存\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Ch2>持久化存储\u003C/h2>\n\u003Cp>中央管理组件使用 PersistentVolumeClaim，配置如下：\u003C/p>\n\u003Cul>\n\u003Cli>访问模式：ReadWriteOnce\u003C/li>\n\u003Cli>默认大小：1Gi\u003C/li>\n\u003C/ul>\n\u003Ch2>升级指南\u003C/h2>\n\u003Cpre>\u003Ccode class=\"hljs language-bash\">helm upgrade synterix synterix/synterix \\\n  --namespace synterix \\\n  --version &lt;新版本号&gt;\n\u003C/code>\u003C/pre>\u003Ch2>卸载指南\u003C/h2>\n\u003Cp>卸载/删除部署：\u003C/p>\n\u003Cpre>\u003Ccode class=\"hljs language-bash\">helm uninstall synterix --namespace synterix\n\u003C/code>\u003C/pre>\u003Cp>注意：此操作不会移除 PersistentVolumeClaim。如需完全删除所有资源：\u003C/p>\n\u003Cpre>\u003Ccode class=\"hljs language-bash\">helm uninstall synterix --namespace synterix\nkubectl delete pvc -n synterix -l app.kubernetes.io/instance=synterix\nkubectl delete namespace synterix\n\u003C/code>\u003C/pre>\u003Ch2>故障排查\u003C/h2>\n\u003Col>\n\u003Cli>\u003Cp>\u003Cstrong>检查 Pod 状态\u003C/strong>：\u003C/p>\n\u003Cpre>\u003Ccode class=\"hljs language-bash\">kubectl get pods -n synterix\n\u003C/code>\u003C/pre>\u003C/li>\n\u003Cli>\u003Cp>\u003Cstrong>查看日志\u003C/strong>：\u003C/p>\n\u003Cpre>\u003Ccode class=\"hljs language-bash\">kubectl logs -n synterix -l app=synterix-central\nkubectl logs -n synterix -l app=synterix-central-admin\n\u003C/code>\u003C/pre>\u003C/li>\n\u003Cli>\u003Cp>\u003Cstrong>检查持久化卷\u003C/strong>：\u003C/p>\n\u003Cpre>\u003Ccode class=\"hljs language-bash\">kubectl get pvc -n synterix\n\u003C/code>\u003C/pre>\u003C/li>\n\u003C/ol>\n",{"title":53,"url":54,"index":55,"lang":1,"level":16,"children":79,"html":80},[],"\u003Ch2>Synterix 工具列表\u003C/h2>\n\u003Ctable>\n\u003Cthead>\n\u003Ctr>\n\u003Cth>组件\u003C/th>\n\u003Cth>简介\u003C/th>\n\u003C/tr>\n\u003C/thead>\n\u003Ctbody>\u003Ctr>\n\u003Ctd>\u003Ca href=\"/zh-cn/toolkit/cli\">CLI 工具\u003C/a>\u003C/td>\n\u003Ctd>专为管理本地工作区和代理服务而设计\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>\u003Ca href=\"/zh-cn/toolkit/ui\">桌面应用\u003C/a>\u003C/td>\n\u003Ctd>下载Synterix桌面应用\u003C/td>\n\u003C/tr>\n\u003C/tbody>\u003C/table>\n"],"uses":{"url":1}},{"type":"data","data":[null],"uses":{}}]}
