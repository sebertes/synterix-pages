import{b as B,a as L}from"./QjU4xDwy.js";import{al as A,am as C,an as P,a9 as N,E as M,ay as D,az as U,e as j,u as G,aA as J,aB as K,aC as Q,W as V,q as X,aD as x,o as Y,a2 as Z,I as tt,t as it,x as at,y as rt,z as st,v as et,F as H,w as nt,J as ot}from"./Bi1TTaFw.js";import{a as ft,d as ct}from"./Bue-HSem.js";import{s as vt}from"./Blmo9Adq.js";import{o as ut}from"./BSoCkxXS.js";function dt(i){var t=P,a=N;A(null),C(null);try{return i()}finally{A(t),C(a)}}const lt=()=>performance.now(),w={tick:i=>requestAnimationFrame(i),now:()=>lt(),tasks:new Set};function q(){const i=w.now();w.tasks.forEach(t=>{t.c(i)||(w.tasks.delete(t),t.f())}),w.tasks.size!==0&&w.tick(q)}function ht(i){let t;return w.tasks.size===0&&w.tick(q),{promise:new Promise(a=>{w.tasks.add(t={c:i,f:a})}),abort(){w.tasks.delete(t)}}}function T(i,t){dt(()=>{i.dispatchEvent(new CustomEvent(t))})}function _t(i){if(i==="float")return"cssFloat";if(i==="offset")return"cssOffset";if(i.startsWith("--"))return i;const t=i.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function $(i){const t={},a=i.split(";");for(const s of a){const[n,c]=s.split(":");if(!n||c===void 0)break;const v=_t(n.trim());t[v]=c.trim()}return t}const pt=i=>i;function E(i,t,a,s){var n=(i&K)!==0,c=(i&Q)!==0,v=n&&c,p=(i&J)!==0,m=v?"both":n?"in":"out",h,u=t.inert,g=t.style.overflow,o,r;function _(){var f=P,b=N;A(null),C(null);try{return h??(h=a()(t,(s==null?void 0:s())??{},{direction:m}))}finally{A(f),C(b)}}var e={is_global:p,in(){var f;if(t.inert=u,!n){r==null||r.abort(),(f=r==null?void 0:r.reset)==null||f.call(r);return}c||o==null||o.abort(),T(t,"introstart"),o=S(t,_(),r,1,()=>{T(t,"introend"),o==null||o.abort(),o=h=void 0,t.style.overflow=g})},out(f){if(!c){f==null||f(),h=void 0;return}t.inert=!0,T(t,"outrostart"),r=S(t,_(),o,0,()=>{T(t,"outroend"),f==null||f()})},stop:()=>{o==null||o.abort(),r==null||r.abort()}},d=N;if((d.transitions??(d.transitions=[])).push(e),n&&ft){var y=p;if(!y){for(var l=d.parent;l&&(l.f&M)!==0;)for(;(l=l.parent)&&(l.f&D)===0;);y=!l||(l.f&U)!==0}y&&j(()=>{G(()=>e.in())})}}function S(i,t,a,s,n){var c=s===1;if(V(t)){var v,p=!1;return X(()=>{if(!p){var d=t({direction:c?"in":"out"});v=S(i,d,a,s,n)}}),{abort:()=>{p=!0,v==null||v.abort()},deactivate:()=>v.deactivate(),reset:()=>v.reset(),t:()=>v.t()}}if(a==null||a.deactivate(),!(t!=null&&t.duration))return n(),{abort:x,deactivate:x,reset:x,t:()=>s};const{delay:m=0,css:h,tick:u,easing:g=pt}=t;var o=[];if(c&&a===void 0&&(u&&u(0,1),h)){var r=$(h(0,1));o.push(r,r)}var _=()=>1-s,e=i.animate(o,{duration:m});return e.onfinish=()=>{var d=(a==null?void 0:a.t())??1-s;a==null||a.abort();var y=s-d,l=t.duration*Math.abs(y),f=[];if(l>0){var b=!1;if(h)for(var W=Math.ceil(l/16.666666666666668),F=0;F<=W;F+=1){var O=d+y*g(F/W),R=$(h(O,1-O));f.push(R),b||(b=R.overflow==="hidden")}b&&(i.style.overflow="hidden"),_=()=>{var k=e.currentTime;return d+y*g(k/l)},u&&ht(()=>{if(e.playState!=="running")return!1;var k=_();return u(k,1-k),!0})}e=i.animate(f,{duration:l,fill:"forwards"}),e.onfinish=()=>{_=()=>s,u==null||u(s,1-s),n()}},{abort:()=>{e&&(e.cancel(),e.effect=null,e.onfinish=x)},deactivate:()=>{n=x},reset:()=>{s===0&&(u==null||u(1,0))},t:()=>_()}}const mt=i=>i;function yt(i){const t=i-1;return t*t*t+1}function z(i){const t=typeof i=="string"&&i.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[i,"px"]}function I(i,{delay:t=0,duration:a=400,easing:s=mt}={}){const n=+getComputedStyle(i).opacity;return{delay:t,duration:a,easing:s,css:c=>`opacity: ${c*n}`}}function wt(i,{delay:t=0,duration:a=400,easing:s=yt,x:n=0,y:c=0,opacity:v=0}={}){const p=getComputedStyle(i),m=+p.opacity,h=p.transform==="none"?"":p.transform,u=m*(1-v),[g,o]=z(n),[r,_]=z(c);return{delay:t,duration:a,easing:s,css:(e,d)=>`
			transform: ${h} translate(${(1-e)*g}${o}, ${(1-e)*r}${_});
			opacity: ${m-u*d}`}}var gt=B('<div class="mask svelte-x5n9x4"></div> <div class="image svelte-x5n9x4"><div class="image-pic svelte-x5n9x4"></div></div>',1);function At(i,t){Y(t,!0);let a=Z(tt({width:100,height:100}));function s(m,h){const u=new Image;u.onload=function(){const g=window.innerWidth,o=window.innerHeight,r=g*.95,_=o*.95,e=this.naturalWidth,d=this.naturalHeight,y=e/d;let l,f;e>r||d>_?e/r>d/_?(l=r,f=r/y):(f=_,l=_*y):(l=e,f=d),h&&h({width:l,height:f})},u.src=m}ut(()=>{s(t.url,m=>{ot(a,m,!0)})});var n=gt(),c=it(n),v=at(c,2);v.__click=function(...m){var h;(h=t.onClose)==null||h.apply(this,m)};var p=rt(v);st(v),et(()=>vt(p,`width:${H(a).width??""}px;height:${H(a).height??""}px;background-image: url('${t.url??""}')`)),E(1,c,()=>I),E(2,c,()=>I),E(1,p,()=>wt,()=>({y:200,duration:300})),E(2,p,()=>I),L(i,n),nt()}ct(["click"]);export{At as P};
